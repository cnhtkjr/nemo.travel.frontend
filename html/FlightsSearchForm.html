<!-- nemo-flights-form_compact || nemo-flights-form_twoThirds -->
<div class="nemo-flights-form js-autofocus-form js-nemoApp__component"> <!-- MODIFIERS: nemo-flights-form_compact || nemo-flights-form_twoThirds -->
	<!-- ko if: !$$loading() && !$$error() -->
	<div class="nemo-flights-form__routeTypeSelector nemo-flights-form__routeTypeSelector_buttons" data-bind="foreach: tripTypes"><div class="nemo-ui-button nemo-ui-button_common nemo-flights-form__routeTypeSelector__button"data-bind="text: $root.i18n('FlightsSearchForm','triptype_'+$data),css: {'nemo-flights-form__routeTypeSelector__button_active': $parent.tripType() == $data},click: function () {$parent.tripType($data);}"></div></div>

	<div class="nemo-flights-form__routeTypeSelector nemo-flights-form__routeTypeSelector_select">
		<div class="nemo-ui-select js-common-pseudoSelect nemo-flights-form__routeTypeSelector__selectWrap">
			<div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-form__routeTypeSelector__select" data-bind="pseudoSelect: null, text: $root.i18n('FlightsSearchForm','triptype_' + tripType())"></div>
			<div class="nemo-ui-select__dropdown js-common-pseudoSelect__dropdown" data-bind="foreach: tripTypes">
				<div class="nemo-ui-select__dropdown__item" data-bind="click: function () {$parent.tripType($data)}, text: $root.i18n('FlightsSearchForm','triptype_' + $data)"></div>
			</div>
		</div>
	</div>

	<div class="nemo-flights-form__formContainer">
		<!-- ko if: !searchAllowedByParamChange() -->
		<div
				class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__searchBlockedError"
				data-bind="text: $root.i18n('FlightsSearchForm','error_searchBlocked'), click: function (d,e) {$(e.target).hide()}"></div>
		<!-- /ko -->
		<div class="nemo-flights-form__formContainer__inner">
			<div data-bind="attr: {'class':'nemo-flights-form__route nemo-flights-form__route_'+tripType()}, foreach: segments(), flightsFormAutoFocus: null"><div data-bind="attr: {'class': 'nemo-flights-form__route__segment ' +($parent.tripType() == 'RT' && $index() == 1 ? 'nemo-flights-form__route__segment_returnSegment ' : '') +'nemo-flights-form__route__segment_' + $parent.tripType() + ' ' +'js-autofocus-segment'}"><!-- ko if: $parent.tripType() != 'RT' || $index() != 1 --><div class="nemo-flights-form__route__segment__item nemo-flights-form__route__segment__item_from"data-bind="css: {'nemo-flights-form__route__segment__item_hasError': $parent.validaTERROR() && items.departure.error()}"><!-- ko if: $parent.tripType() == 'CR' && $index() == ($parent.segments().length-1) --><div class="nemo-flights-form__route__removeCRSegment"data-bind="click: $parent.removeLastCRSegment.bind($parent),css: {'nemo-flights-form__route__removeCRSegment_inactive': $parent.segments().length == 1}"></div><!-- /ko --><label class="nemo-ui-textInput nemo-ui-dummiedInput js-autocomplete"><!-- ko if: $parent.validaTERROR() && items.departure.error() && items.departure.focus() --><div class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__route__segment__item__error"data-bind="text: $root.i18n('FlightsSearchForm','error_departure_'+items.departure.error());"></div><!-- /ko --><div class="nemo-flights-form__route__segment__item__inputContainer"><input class=" nemo-ui-textInput__input nemo-ui-dummiedInput__input nemo-flights-form__route__segment__input nemo-flights-form__route__segment__input_autocomplete js-autofocus-field js-autofocus-field_departure"type="text"data-bind="flightsFormGeoAC: items.departure.value, hasFocus: items.departure.focus,attr: {placeholder: $root.i18n('FlightsSearchForm','segments__departure__placeholder')}"><div class="nemo-ui-dummiedInput__dummy nemo-flights-form__route__segment__item__dummy js-autocomplete-dummy"><!-- ko if: !items.departure.value() --><span class="nemo-ui-dummiedInput__dummy__placeholder js-autocomplete-dummy__placeholder"data-bind="text: $root.i18n('FlightsSearchForm','segments__departure__placeholder')"></span><!-- /ko --><!-- ko if: items.departure.value() --><!-- ko with: items.departure.value() --><span class="nemo-ui-dummiedInput__dummy__main js-autocomplete-dummy__main" data-bind="text: name"></span><span class="nemo-ui-dummiedInput__dummy__aux js-autocomplete-dummy__aux" data-bind="text: ', ' + country.name"></span><!-- /ko --><!-- /ko --></div></div></label></div><div class="nemo-flights-form__route__segment__item nemo-flights-form__route__segment__item_to"data-bind="css: {'nemo-flights-form__route__segment__item_hasError': $parent.validaTERROR() && items.arrival.error()}"><label class="nemo-ui-textInput nemo-ui-dummiedInput js-autocomplete"><!-- ko if: $parent.validaTERROR() && items.arrival.error() && items.arrival.focus() --><div class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__route__segment__item__error"data-bind="text: $root.i18n('FlightsSearchForm','error_arrival_'+items.arrival.error())"></div><!-- /ko --><div class="nemo-flights-form__route__segment__item__inputContainer"><input class=" nemo-ui-textInput__input nemo-ui-dummiedInput__input nemo-flights-form__route__segment__input nemo-flights-form__route__segment__input_autocomplete js-autofocus-field js-autofocus-field_arrival"type="text"data-bind="flightsFormGeoAC: items.arrival.value, hasFocus: items.arrival.focus,attr: {placeholder: $root.i18n('FlightsSearchForm','segments__arrival__placeholder')}"><div class="nemo-ui-dummiedInput__dummy nemo-flights-form__route__segment__item__dummy js-autocomplete-dummy"><!-- ko if: !items.arrival.value() --><span class="nemo-ui-dummiedInput__dummy__placeholder js-autocomplete-dummy__placeholder"data-bind="text: $root.i18n('FlightsSearchForm','segments__arrival__placeholder')"></span><!-- /ko --><!-- ko if: items.arrival.value() --><!-- ko with: items.arrival.value() --><span class="nemo-ui-dummiedInput__dummy__main js-autocomplete-dummy__main" data-bind="text: name"></span><span class="nemo-ui-dummiedInput__dummy__aux js-autocomplete-dummy__aux" data-bind="text: ', ' + country.name"></span><!-- /ko --><!-- /ko --></div></div></label></div><!-- /ko --><div class="nemo-flights-form__route__segment__item nemo-flights-form__route__segment__item_date"data-bind="css: {'nemo-flights-form__route__segment__item_hasError': $parent.validaTERROR() && items.departureDate.error()}"><label class="nemo-ui-textInput nemo-ui-dummiedInput nemo-flights-form__route__segment__item__date"><div class="nemo-flights-form__route__segment__item__date__indicator" data-bind="text: items.departureDate.value() ? items.departureDate.value().getDate() : 31"></div><!-- ko if: $parent.validaTERROR() && items.departureDate.error() && items.departureDate.focus() --><div class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__route__segment__item__error"data-bind="text: $root.i18n('FlightsSearchForm','error_departureDate_'+items.departureDate.error());"></div><!-- /ko --><div class="nemo-flights-form__route__segment__item__inputContainer"><input class="nemo-ui-textInput__input nemo-ui-dummiedInput__input nemo-flights-form__route__segment__input nemo-flights-form__route__segment__input_date js-autofocus-field js-autofocus-field_date"type="text"data-bind="attr: {placeholder: $root.i18n('FlightsSearchForm','segments__date__placeholder' + ($parent.tripType() == 'RT' ? ($index() == 0 ? '_RT_leg_0' : '_RT_leg_1') : ''))},flightsFormDatepicker: items.departureDate.value,css: $parent.tripType() == 'RT' ? ($index() == 0 ? 'nemo-flights-form__route__segment__input_date_there' : 'nemo-flights-form__route__segment__input_date_back') : 'nemo-flights-form__route__segment__input_date_there',hasFocus: items.departureDate.focus"><div class="nemo-ui-dummiedInput__dummy nemo-flights-form__route__segment__item__dummy nemo-flights-form__route__segment__item__date__dummy nemo-flights-form__route__segment__item__date__dummy_full"><!-- ko if: !items.departureDate.value() --><span class="nemo-ui-dummiedInput__dummy__placeholder" data-bind="text: $root.i18n('FlightsSearchForm','segments__date__placeholder' + ($parent.tripType() == 'RT' ? ($index() == 0 ? '_RT_leg_0' : '_RT_leg_1') : ''))"></span><!-- /ko --><!-- ko if: items.departureDate.value() --><span class="nemo-ui-dummiedInput__dummy__main" data-bind="text: items.departureDate.value().getDate()+' '+items.departureDate.value().getMonthName()"></span><span class="nemo-ui-dummiedInput__dummy__aux" data-bind="text: ', '+items.departureDate.value().getDOWName()"></span><!-- /ko --></div><div class="nemo-ui-dummiedInput__dummy nemo-flights-form__route__segment__item__dummy nemo-flights-form__route__segment__item__date__dummy nemo-flights-form__route__segment__item__date__dummy_short"><!-- ko if: !items.departureDate.value() --><span class="nemo-ui-dummiedInput__dummy__placeholder" data-bind="text: $root.i18n('FlightsSearchForm','segments__date__placeholder' + ($parent.tripType() == 'RT' ? ($index() == 0 ? '_RT_leg_0' : '_RT_leg_1') : ''))"></span><!-- /ko --><!-- ko if: items.departureDate.value() --><span class="nemo-ui-dummiedInput__dummy__main" data-bind="text: items.departureDate.value().getDate()+' '+items.departureDate.value().getMonthNameShort()"></span><span class="nemo-ui-dummiedInput__dummy__aux" data-bind="text: ', '+items.departureDate.value().getDOWNameShort()"></span><!-- /ko --></div></div></label><!-- ko if: $parent.tripType() == 'RT' && $index() == 1 --><div class="nemo-flights-form__route__switchToOW" data-bind="click: function () {$parent.tripType('OW')}"></div><!-- /ko --></div></div><!-- ko if: $parent.tripType() == 'OW' --><div class="nemo-flights-form__route__segment nemo-flights-form__route__segment_returnSegment"><div class="nemo-flights-form__route__segment__item nemo-flights-form__route__segment__item_date"><div class="nemo-flights-form__route__switchToRT"data-bind="click: function () {$parent.tripType('RT')},flightsFormRTAutoFocus:null,text: $root.i18n('FlightsSearchForm','segments__switchToRT__text')"></div></div></div><!-- /ko --><!-- ko if: $parent.tripType() == 'CR' && $index() == ($parent.segments().length-1) --><div class="nemo-flights-form__route__continueCR"data-bind="click: $parent.continueCR.bind($parent),css: {'nemo-flights-form__route__continueCR_inactive': $parent.segments().length >= $parent.options.flightSegments},text: $root.i18n('FlightsSearchForm','segments__CR__continueRoute__text')"></div><!-- /ko --></div>

			<div class="nemo-ui-select nemo-flights-form__passengers">
				<!-- ko if: validaTERROR() && passengersError() -->
				<div data-bind="text: $root.i18n('FlightsSearchForm','error_passengers_'+passengersError());" class="nemo-ui-hint nemo-ui-hint_warn nemo-flights-form__passengers__error"></div>
				<!-- /ko -->

				<div class="nemo-ui-select__toggle nemo-flights-form__passengers__container js-flights-searchForm-passSelect"
					 data-bind="
	        flightsFormPassengersSelector: null,
	        text: passengersSummary,
	        css: {'nemo-ui-select__toggle_open': passengersFastSelectorOpen()}
    "></div>

				<div class="nemo-ui-select__toggle nemo-flights-form__passengers__containerColumn js-flights-searchForm-passSelect"
					 data-bind="
	        flightsFormPassengersSelector: null,
	        text: passengersSummary,
	        css: {'nemo-ui-select__toggle_open': passengersFastSelectorOpen()}
    "></div>

				<div class="nemo-ui-select__dropdown nemo-flights-form__passengers__fastSelect" data-bind="visible: passengersFastSelectorOpen">
					<!-- ko foreach: passengersFastSelectOptions -->
					<div class="nemo-ui-select__dropdown__item nemo-flights-form__passengers__fastSelect__item"
						 data-bind="
		        text: $parent.passengersTextForFastSelect($index()),
		        click: function () {$parent.passengersFastSelectorOpen(false); $parent.passengersSelectFast($index());}
"       ></div>
					<!-- /ko -->

					<!-- ko if: passengersUseExtendedSelect -->
					<div class="nemo-ui-select__dropdown__item nemo-flights-form__passengers__fastSelect__item" data-bind="
			popup: {
				block: 'passengersFullSelect',
				title: $root.i18n('FlightsSearchForm','passengers__fullSelect__title'),
				buttons: [
					{
						text: $root.i18n('FlightsSearchForm','passengers__fullSelect__button__done'),
						click: function () {$(this).data('ui-popup__close')()}
					}
				]
			},
			click: function () {passengersFastSelectorOpen(false);},
			text: $root.i18n('FlightsSearchForm','passengers__fastSelect__fullSelectOption')
		"></div>
					<!-- /ko -->
				</div>
			</div>
			<div class="nemo-flights-form__buttonContainer">
				<button class="nemo-ui-button nemo-ui-button_main nemo-ui-button nemo-ui-button_main_form nemo-flights-form__searchButton"
						data-bind="
						click: startSearch,
						css: {
							'nemo-ui-button_disabled': !searchEnabled(),
							'nemo-flights-form__searchButton_searching': isSearching()
						},
						text: $root.i18n('FlightsSearchForm','searchButton__text')"></button>
			</div>

			<div  data-bind="attr: {'class':'nemo-flights-form__routeOptions nemo-flights-form__routeOptions_'+tripType()}">
				<div class="nemo-flights-form__routeOptions__inner">
					<div class="nemo-flights-form__routeOptions__item nemo-flights-form__routeOptions__item_routeType">
						<span class="nemo-flights-form__routeOptions__item__caption" data-bind="text: $root.i18n('FlightsSearchForm','routeOptions__tripType__caption')"></span>

						<div class="nemo-ui-select js-common-pseudoSelect nemo-flights-form__routeOptions__item__selector">
							<div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-form__routeOptions__item__selector__button" data-bind="pseudoSelect: null, text: $root.i18n('FlightsSearchForm','triptype_' + tripType())"></div>
							<div class="nemo-ui-select__dropdown js-common-pseudoSelect__dropdown" data-bind="foreach: tripTypes">
								<div class="nemo-ui-select__dropdown__item" data-bind="click: function () {$parent.tripType($data)}, text: $root.i18n('FlightsSearchForm','triptype_' + $data)"></div>
							</div>
						</div>
					</div><!--
					--><div class="nemo-flights-form__routeOptions__item nemo-flights-form__routeOptions__item_class">
					<span class="nemo-flights-form__routeOptions__item__caption" data-bind="text: $root.i18n('FlightsSearchForm','routeOptions__serviceClass__caption')"></span>

					<div class="nemo-ui-select js-common-pseudoSelect nemo-flights-form__routeOptions__item__selector">
						<div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-form__routeOptions__item__selector__button"
							 data-bind="pseudoSelect: null, text: $root.i18n('FlightsSearchForm','serviceClass_'+serviceClass())"></div>
						<div class="nemo-ui-select__dropdown js-common-pseudoSelect__dropdown" data-bind="foreach: serviceClasses">
							<div class="nemo-ui-select__dropdown__item" data-bind="click: function (){$parent.serviceClass($data)}, text: $root.i18n('FlightsSearchForm','serviceClass_'+$data)"></div>
						</div>
					</div>
				</div><!--
						ko if: tripType() != 'CR' && options.dateOptions.aroundDatesValues.length > 1
					--><div class="nemo-flights-form__routeOptions__item nemo-flights-form__routeOptions__item_multiDate">
					<label class="nemo-ui-checkbox nemo-flights-form__routeOptions__item__checkbox">
						<input class="nemo-ui-checkbox__input" type="checkbox" data-bind="checked: vicinityDates">
							<span class="nemo-ui-checkbox__caption nemo-flights-form__routeOptions__item__checkbox__caption"
								  data-bind="html: $root.i18n('FlightsSearchForm','routeOptions__vicinityDates__caption')"></span>
					</label>
				</div>
					<!-- /ko --><div class="nemo-flights-form__routeOptions__item nemo-flights-form__routeOptions__item_direct">
					<label class="nemo-ui-checkbox nemo-flights-form__routeOptions__item__checkbox">
						<input class="nemo-ui-checkbox__input" type="checkbox" data-bind="checked: directFlights">
							<span class="nemo-ui-checkbox__caption nemo-flights-form__routeOptions__item__checkbox__caption"
								  data-bind="text: $root.i18n('FlightsSearchForm','routeOptions__direct__caption')"></span>
					</label>
				</div>
				</div>
			</div>		</div>
	</div>

	<!-- ko if: useAdditionalOptions -->
	<div class="nemo-flights-form__additional"><div class="nemo-ui-select js-common-pseudoSelect nemo-flights-form__additional__item nemo-flights-form__additional__parameters"><div class="nemo-ui-select__toggle js-common-pseudoSelect__toggle nemo-flights-form__additional__parameters__toggle"data-bind="text: $root.i18n('FlightsSearchForm','additionalParameters__toggle'),pseudoSelect: {adjustWidth: false},click: function (d, e) {$(e.target).parents('.js-nemoApp__component').eq(0).find('.js-flights-searchForm-hiddenSelect').trigger('chosen:updated');}"></div><div class="nemo-ui-select__dropdown js-common-pseudoSelect__dropdown nemo-flights-form__additional__parameters__dropdown" data-bind="click: function (d,e) {e.stopPropagation();}"><div class="nemo-ui-subSectionHeader nemo-flights-form__additional__parameters__header" data-bind="text: $root.i18n('FlightsSearchForm','additionalParameters__header')"></div><div class="nemo-flights-form__additional__parameters__item nemo-flights-form__additional__parameters__item_maxPrice"><div class="nemo-flights-form__additional__parameters__item__title" data-bind="text: $root.i18n('FlightsSearchForm','additionalParameters__maxPrice__title')"></div><div class="nemo-ui-textInput nemo-flights-form__additional__parameters__item__content"><input type="text" class="nemo-ui-textInput__input nemo-flights-form__additional__parameters__item__content__maxPriceField"data-bind="attr:{placeholder: $root.i18n('FlightsSearchForm','additionalParameters__maxPrice__placeholder')},textInput: additionalParameters.maxPrice"><!-- ko if: additionalParameters.maxPrice --><div class="nemo-flights-form__additional__parameters__item__content__maxPriceFieldClearer" data-bind="click: function () {additionalParameters.maxPrice('');}"></div><!-- /ko --><money class="nemo-flights-form__additional__parameters__item__content__maxPriceCurrency"format="$"no-translate=""data-bind="text: $root.agency.currency,attr: {currency: $root.agency.currency},money: null"></money></div></div><div class="nemo-flights-form__additional__parameters__item nemo-flights-form__additional__parameters__item_carrier"><div class="nemo-flights-form__additional__parameters__item__title" data-bind="text: $root.i18n('FlightsSearchForm','additionalParameters__carrier__title')"></div><div class="nemo-flights-form__additional__parameters__item__content"><!-- ko if: !carriersLoaded() --><div class="nemo-flights-form__additional__parameters__carrierLoading" data-bind="text: $root.i18n('FlightsSearchForm','additionalParameters__carrier__loading')"></div><!-- /ko --><!-- ko if: carriersLoaded() --><select multiple class="js-flights-searchForm-hiddenSelect"data-bind="options: carriers,optionsText: 'name',selectedOptions: additionalParameters.carriers,flightsFormSelect: {placeholder_text_multiple: $root.i18n('FlightsSearchForm', 'additionalParameters__carrier__placeholder'),no_results_text: $root.i18n('FlightsSearchForm', 'additionalParameters__carrier__searchNotFound')}"></select><!-- /ko --></div></div><div class="nemo-flights-form__additional__parameters__item nemo-flights-form__additional__parameters__item_timeEnRoute"><div class="nemo-flights-form__additional__parameters__item__title" data-bind="text: $root.i18n('FlightsSearchForm','additionalParameters__timeEnRoute__title')"></div><div class="nemo-ui-textInput nemo-flights-form__additional__parameters__item__content nemo-flights-form__additional__parameters__timeEnRoute"><span class="nemo-flights-form__additional__parameters__timeEnRoute__subTitle" data-bind="text: $root.i18n('FlightsSearchForm','additionalParameters__timeEnRoute__subTitle')"></span><select class="js-flights-searchForm-hiddenSelect nemo-flights-form__additional__parameters__timeEnRoute__select" data-bind="options: additionalParameters.maxTimeEnRouteOptions,optionsText: function (item) {return $root.i18n('FlightsSearchForm', 'additionalParameters__timeEnRoute__option_' + (item ? item : 'none'))},value: additionalParameters.maxTimeEnRoute,flightsFormSelect: {width: '150px', disable_search: true},event: {'chosen:hiding_dropdown': function (d, e) {setTimeout(function(){$(e.target).trigger('chosen:close');}, 15);}}"></select></div></div><div class="nemo-flights-form__additional__parameters__item nemo-flights-form__additional__parameters__item_transfers"><div class="nemo-flights-form__additional__parameters__item__title nemo-flights-form__additional__parameters__item__title_transfers" data-bind="text: $root.i18n('FlightsSearchForm','additionalParameters__transfers__title')"></div><div class="nemo-ui-textInput nemo-flights-form__additional__parameters__item__content"><label class="nemo-ui-checkbox nemo-flights-form__additional__parameters__checkbox nemo-flights-form__additional__parameters__checkbox_noTransfers"data-bind="click: function () {directFlights(!directFlights())}"><input class="nemo-ui-checkbox__input" type="checkbox" data-bind="checked: directFlights"><span class="nemo-ui-checkbox__caption nemo-flights-form__additional__parameters__checkbox__caption"data-bind="html: $root.i18n('FlightsSearchForm','additionalParameters__transfers__noTransfers__caption')"></span></label><!-- ko if: !directFlights() --><label class="nemo-ui-checkbox nemo-flights-form__additional__parameters__checkbox nemo-flights-form__additional__parameters__checkbox_shortTransfers"data-bind="click: function () {additionalParameters.maxTransfersLength(!additionalParameters.maxTransfersLength())}"><input class="nemo-ui-checkbox__input" type="checkbox" data-bind="checked: additionalParameters.maxTransfersLength"><span class="nemo-ui-checkbox__caption nemo-flights-form__additional__parameters__checkbox__caption"data-bind="html: $root.i18n('FlightsSearchForm','additionalParameters__transfers__shortTransfers__caption')"></span></label><!-- /ko --></div></div></div></div><div class="nemo-flights-form__additional__item nemo-flights-form__additional__item_lastSearches"><!-- Last searches component --><div class="" data-bind="component: {name: 'Flights/LastSearches/Controller', params: {}}"></div></div></div>
	<!-- /ko -->

	<div data-block="passengersFullSelect"
		 class="nemo-flights-form__passengersPopUp js-nemoApp__popupBlock"
		 data-bind="foreach: {data: passengerTypesOrder, as: 'passType'}"
			>
		<!-- ko if: $parent.options.passengerCount[passType] &&  parseInt($parent.options.passengerCount[passType]) -->
		<div data-bind="attr: {'class': 'nemo-flights-form__passengersPopUp__item nemo-flights-form__passengersPopUp__item_' + passType}">
			<div class="nemo-flights-form__passengersPopUp__item__header" data-bind="text: $root.i18n('FlightsSearchForm','passengerType_'+passType+'_passSelectorName')"></div>
			<div class="nemo-flights-form__passengersPopUp__item__subheader" data-bind="text: $root.i18n('FlightsSearchForm','passengerType_'+passType+'_ageInfo')"></div>
			<div class="nemo-flights-form__passengersPopUp__item__counts" data-bind="foreach: $parent.getPassengersCounts(passType)">
				<div
						data-bind="
						text: $root.i18n('FlightsSearchForm','passengers_count_' + $data),
						attr: {'class':
								'nemo-flights-form__passengersPopUp__item__count nemo-flights-form__passengersPopUp__item__count_' + $data +
								(
									$parents[1].passengers()[passType] && $parents[1].passengers()[passType]() == $data ?
									' nemo-flights-form__passengersPopUp__item__count_active' :
									''
								) +
								(
									$data > $parents[1].passengersRestrictions()[passType].max || $data < $parents[1].passengersRestrictions()[passType].min ?
									' nemo-flights-form__passengersPopUp__item__count_disabled':
									''
								)
							},
						click: function () {$parents[1].setPassengers(passType, parseInt($data));}"
						></div>
			</div>
		</div>
		<!-- /ko -->
	</div>
	<!-- ko if: isSearching () -->
	<div data-bind="
			automaticPopup: {
				title: $root.i18n('FlightsSearchForm','searchingInfo__title'),
				close: function () {abortSearch()},
				closeOnOverlayClick: false,
				contentClass: 'nemo-flights-form__searchingInfoPopup',
				headerClass: 'ui-dialog-titlebar_progress nemo-flights-form__searchingInfoPopup__header'
			}
		">
		<div class="nemo-flights-form__searchingInfo nemo-flights-form__searchingInfoPopup__content">
			<div class="nemo-flights-form__searchingInfo__header" data-bind="text: $root.i18n('FlightsSearchForm','searchingInfo__header')"></div>

			<div class="nemo-flights-form__searchingInfo__subHeader"
				 data-bind="
			text: $root.i18n('FlightsSearchForm','searchingInfo__info')
				.replace('[%-flightType-%]', $root.i18n('FlightsSearchForm', 'searchingInfo__flightType_' + tripType()))
				.replace('[%-class-%]', $root.i18n('FlightsSearchForm', 'searchingInfo__class_' + serviceClass()))
		"></div>

			<div class="nemo-flights-form__searchingInfo__segments" data-bind="css: {'nemo-flights-form__searchingInfo__segments_RTLike': segments().length == 2}, foreach: segments"><div class="nemo-flights-form__searchingInfo__segment"><div class="nemo-flights-form__searchingInfo__segment__inner"><div class="nemo-flights-form__searchingInfo__segment__date" data-bind="text: items.departureDate.value() ? items.departureDate.value().getDate() + ' ' + items.departureDate.value().getMonthName() + ', ' + items.departureDate.value().getDOWName() : ''"></div><div class="nemo-flights-form__searchingInfo__segment__route"><span class="nemo-flights-form__searchingInfo__segment__route__departure" data-bind="text: items.departure.value() ? items.departure.value().city.name || items.departure.value().name : ''"></span><span class="nemo-flights-form__searchingInfo__segment__route__arrival" data-bind="text: items.arrival.value() ? items.arrival.value().city.name || items.arrival.value().name : ''"></span></div></div></div></div>
		</div>		</div>
	<!-- /ko -->

	<!-- ko if: searchError -->
	<div data-bind="automaticPopup: {title: $root.i18n('FlightsSearchForm','searchingError__title'), close: function () {searchError(false);}}">
		<div data-bind="text: searchError" style="display: none;"></div>
	</div>
	<!-- /ko -->
	<!-- /ko -->

	<!-- ko if: $$error() -->
	<div data-bind="text: $$error()"></div>
	<!-- /ko -->

	<!-- ko if: $$loading() -->
	<div class="nemo-flights-form__loader"></div>
	<!-- /ko -->
</div>